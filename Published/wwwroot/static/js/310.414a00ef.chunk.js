"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[310],{15284:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(37762),a=n(15671),i=n(43144),o=n(60136),s=n(27277),l=n(72791),c=n(64074),d=n(62591),u=n(73849),f=n(80184),h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={count:1},e.handleTableBody=function(t){var n,a=1,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){n.value.id=a,a++}}catch(o){i.e(o)}finally{i.f()}return null===t||void 0===t?void 0:t.map((function(t){return(0,f.jsx)("tr",{children:e.handleRowData(t).map((function(e){return(0,f.jsx)("td",{style:{height:"12",padding:"6 24",border:"1px solid #eaeaea"},children:e},e)}))},t.id)}))},e.handleRowData=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=new Date,t=this.props,n=t.title,r=t.data,a=t.theaders;return(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(c.Z.Header,{children:(0,f.jsx)(c.Z.Title,{children:(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"col-12",children:[(0,f.jsx)("img",{src:u,height:"120",alt:"Logo"}),(0,f.jsx)("h3",{className:"mt-2",children:(0,f.jsx)("p",{className:"float-right",children:e.toDateString()})}),(0,f.jsx)("h5",{children:(0,f.jsx)("h3",{children:n})})]})})})}),(0,f.jsx)(c.Z.Body,{children:(0,f.jsxs)(d.Z,{striped:!0,hover:!0,ref:"tbl",className:"table table-condensed",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"#"}),null===a||void 0===a?void 0:a.map((function(e){return(0,f.jsx)("th",{children:e},e)}))]})}),(0,f.jsx)("tbody",{children:this.handleTableBody(r)})]})})]})}}]),n}(l.Component),m=h},3075:function(e,t){t.Z=function(e,t){if(""===t.startDate&&""===t.endDate){var n="All"===t.name?e:e.filter((function(e){return e.name===t.name}));return"All"===t.paymentMethod?n:n.filter((function(e){return e.paymentMethod===t.paymentMethod}))}if(""!==t.startDate&&""!==t.endDate){var r="All"===t.name?e:e.filter((function(e){return e.name===t.name}));return("All"===t.paymentMethod?r:r.filter((function(e){return e.paymentMethod===t.paymentMethod}))).filter((function(e){var n=new Date(e.date);return n>=t.startDate&&n<=t.endDate}))}if(""!==t.startDate){var a="All"===t.name?e:e.filter((function(e){return e.name===t.name}));return("All"===t.paymentMethod?a:a.filter((function(e){return e.paymentMethod===t.paymentMethod}))).filter((function(e){return new Date(e.date)>=t.startDate}))}if(""!==t.endDate){var i="All"===t.name?e:e.filter((function(e){return e.name===t.name}));return("All"===t.paymentMethod?i:i.filter((function(e){return e.paymentMethod===t.paymentMethod}))).filter((function(e){return new Date(e.date)<=t.endDate}))}return[]}},6713:function(e,t,n){var r=n(74165),a=n(15861),i=n(6924),o=n(81420),s=(0,i.Ue)({baseURL:o.Z.apiUrl});s.addAsyncRequestTransform(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.token;case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.headers.Authorization="bearer ".concat(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.Z=s},75047:function(e,t,n){var r=n(6713),a="/expensecategories";t.Z={add:function(e){return r.Z.post(a,e)},update:function(e,t){return r.Z.put(a+"/"+e,t)},getAll:function(){return r.Z.get(a)}}},69292:function(e,t,n){var r=n(6713),a="/expenses";t.Z={add:function(e){return r.Z.post(a,e)},update:function(e,t){return r.Z.put(a+"/"+e,t)},getAll:function(){return r.Z.get(a)}}},5504:function(e,t,n){var r=n(1251),a=n(80184);t.Z=function(e){var t=e.children,n=e.isLoading;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(r.JL,{color:"primary",size:"lg"})}):t})}},59352:function(e,t){t.Z={lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D"}},81420:function(e,t){var n={dev:{apiUrl:"https://localhost:7146/api"},pro:{apiUrl:"http://".concat(window.location.host,"/api")}};t.Z=n.pro},1310:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var r=n(1413),a=n(74165),i=n(42982),o=n(15861),s=n(70885),l=n(72791),c=n(64074),d=n(89743),u=n(2677),f=n(53392),h=n(43360),m=n(39918),p=n(67352),x=n(65666),Z=n(11799),v=n.n(Z),g=n(79745),j=n.n(g),b=n(61146),y=n.n(b),D=n(15284),A=n(97425),w=n(53717),N=n(96521),S=n(18357),C=n(71971),k=n(8118),M=n(59352),R=n(80184),B=(0,w.Z)({profileIcon:{marginRight:5,color:M.Z.dark,transition:"color .15s","&:hover":{color:M.Z.main}},actionsContainer:{width:"100%",height:"100%"},formGroup:{marginBottom:25},profileContainer:{marginBottom:25},balanceContainer:{width:"100%",height:"50%",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",borderRadius:10},price:{fontSize:21,fontWeight:"500",position:"relative",top:15},currency:{fontSize:16,fontWeight:"400",color:"rgb(99, 115, 129)",textAlign:"center"},btn:{width:"100%"}});function E(e){var t=e.show,n=e.setShow,r=e.expense,a=B();return(0,R.jsxs)(A.Z,{show:t,centered:!0,size:"lg",children:[(0,R.jsxs)(A.Z.Header,{children:[(0,R.jsx)(A.Z.Title,{children:"Expense detail"}),(0,R.jsx)(N.Z,{className:"float-right",onClick:function(){return n(!1)},style:{fontSize:22,color:"black"},children:(0,R.jsx)(j(),{name:"close"})})]}),(0,R.jsxs)(A.Z.Body,{children:[(0,R.jsxs)(S.Z,{className:a.formGroup,children:[(0,R.jsx)(C.Z,{children:"Category"}),(0,R.jsx)(k.Z,{value:null===r||void 0===r?void 0:r.name,disabled:!0})]}),(0,R.jsxs)(S.Z,{className:a.formGroup,children:[(0,R.jsx)(C.Z,{children:"Expense Amount (BIRR)"}),(0,R.jsx)(k.Z,{value:function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),n=t.split(".");return n.length>1&&(t=n[0]),t}(null===r||void 0===r?void 0:r.amount),disabled:!0})]}),(0,R.jsxs)(S.Z,{className:a.formGroup,children:[(0,R.jsx)(C.Z,{children:"Date"}),(0,R.jsx)(k.Z,{value:new Date(null===r||void 0===r?void 0:r.date).toDateString(),disabled:!0})]}),(0,R.jsxs)(S.Z,{className:a.formGroup,children:[(0,R.jsx)(C.Z,{children:"Description"}),(0,R.jsx)("textarea",{className:"form-control",disabled:!0,rows:"5",children:null===r||void 0===r?void 0:r.description})]})]})]})}var T=n(5504),z=n(3075),F=n(69292),L=n(75047),G=function(){var e,t,n=(0,l.useState)([{label:"Category",field:"categoryName"},{label:"Amount",field:"totalAmount"},{label:"Date",field:"date"},{label:"",field:"actions"}]),Z=(0,s.Z)(n,1)[0],g=(0,l.useState)([{label:"Category",field:"categoryName"},{label:"Amount",field:"totalAmount"},{label:"Description",field:"description"},{label:"Date",field:"date"},{label:"",field:"actions"}]),b=(0,s.Z)(g,1)[0],A=(0,l.useState)([]),w=(0,s.Z)(A,2),N=w[0],S=w[1],C=(0,l.useState)([]),k=(0,s.Z)(C,2),M=k[0],B=k[1],G=(0,l.useState)([]),U=(0,s.Z)(G,2),P=U[0],H=U[1],I=(0,l.useState)(!0),O=(0,s.Z)(I,2),W=O[0],$=O[1],_=(0,l.useState)({name:"All",endDate:"",startDate:"",paymentMethod:"All"}),q=(0,s.Z)(_,2),J=q[0],V=q[1],K=(0,l.useState)(!1),Q=(0,s.Z)(K,2),X=Q[0],Y=Q[1],ee=(0,l.useState)({}),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ae=(0,l.useRef)(),ie=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r,o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,F.Z.getAll();case 3:return t=e.sent,n=t.status,r=t.data,e.next=8,L.Z.getAll();case 8:if(o=e.sent,s=o.data,$(!1),200===n){e.next=13;break}return e.abrupt("return",p.Am.error("Network Error"));case 13:S((0,i.Z)(r)),B((0,i.Z)(r)),H([{id:"All",name:"All"}].concat((0,i.Z)(s)));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),n=t.split(".");return n.length>1&&(t=n[0]),t},se=function(e){var t=e.currentTarget;J[t.name]=t.value,V((0,r.Z)({},J)),le(J)},le=function(e){B((0,i.Z)((0,z.Z)((0,i.Z)(N),e)))};return(0,l.useEffect)((function(){ie()}),[]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(E,{show:X,expense:ne,setShow:Y}),(0,R.jsxs)(c.Z,{children:[(0,R.jsxs)(c.Z.Header,{children:[(0,R.jsxs)(c.Z.Title,{children:[" ",(0,R.jsxs)(d.Z,{children:[(0,R.jsx)(u.Z,{children:" All Expenses "}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(y(),{trigger:function(){return(0,R.jsx)("button",{type:"button",className:"btn d-print-none float-right",children:(0,R.jsx)(j(),{className:"fas fa-print",name:"print",style:{fontSize:25}})})},content:function(){return ae}}),(0,R.jsx)("div",{className:"d-none",children:(0,R.jsx)(D.Z,{data:(t=M,0===t.length?[]:t.map((function(e){return{id:e.id,categoryName:e.expenseCategory.name,totalAmount:"".concat(oe(e.amount)," Birr"),description:e.description,date:new Date(e.date).toLocaleDateString()}}))),theaders:b.filter((function(e){return""!==e.label})).map((function(e){return e.label})),title:"Expenses Report",ref:function(e){return ae=e}})})]})]})]}),(0,R.jsxs)(d.Z,{children:[(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(f.Z,{children:"Category"}),(0,R.jsx)(x.ZP,{value:P.filter((function(e){return e.name===J.name})).map((function(e){return{label:e.name,value:e.id}})),onChange:function(e){return se({currentTarget:{name:"name",value:e.label}})},options:P.map((function(e){return{label:e.name,value:e.id}})),isLoading:W})]}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(f.Z,{children:"Start Date"}),(0,R.jsx)(v(),{onChange:function(e){return se({currentTarget:{name:"startDate",value:e._d}})},value:J.startDate,timeFormat:!1,closeOnSelect:!0})]}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)(f.Z,{children:"End Date"}),(0,R.jsx)(v(),{onChange:function(e){return se({currentTarget:{name:"endDate",value:e._d}})},value:J.endDate,timeFormat:!1,closeOnSelect:!0})]})]}),(0,R.jsx)(d.Z,{children:(0,R.jsx)(u.Z,{children:(0,R.jsxs)("p",{style:{fontSize:18,position:"relative",top:10},children:["Total Expenses:"," ",M.length>0?oe(null===M||void 0===M||null===(e=M.map((function(e){return e.amount})))||void 0===e?void 0:e.reduce((function(e,t){return e+t}))):0," ","BIRR"]})})})]}),(0,R.jsx)(c.Z.Body,{children:(0,R.jsx)(T.Z,{isLoading:W,children:(0,R.jsx)(m.Vm4,{entries:10,pagesAmount:10,data:{columns:Z,rows:(0,i.Z)(M.map((function(e){return e.actions=(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(h.Z,{className:"btn-light btn-sm mr-4",onClick:function(){return function(e){Y(!0),re(e)}(e)},children:(0,R.jsx)(j(),{name:"eye text-secondary",style:{fontSize:17}})})}),e.totalAmount="".concat(oe(e.amount)," Birr"),e.categoryName=e.expenseCategory.name,e.date=new Date(e.date).toDateString(),e})))},searchTop:!0,fullPagination:!0,searchBottom:!1,searching:!1,entriesOptions:[10,25,50,100,250,500,1e3]})})})]})]})}},62591:function(e,t,n){var r=n(87462),a=n(63366),i=n(60654),o=n.n(i),s=n(72791),l=n(10162),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=s.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,d=e.striped,u=e.bordered,f=e.borderless,h=e.hover,m=e.size,p=e.variant,x=e.responsive,Z=(0,a.Z)(e,c),v=(0,l.vE)(n,"table"),g=o()(i,v,p&&v+"-"+p,m&&v+"-"+m,d&&v+"-striped",u&&v+"-bordered",f&&v+"-borderless",h&&v+"-hover"),j=s.createElement("table",(0,r.Z)({},Z,{className:g,ref:t}));if(x){var b=v+"-responsive";return"string"===typeof x&&(b=b+"-"+x),s.createElement("div",{className:b},j)}return j}));t.Z=d},73849:function(e,t,n){e.exports=n.p+"static/media/Shebelle.f71562d6af0072864cc4.jpg"}}]);
//# sourceMappingURL=310.414a00ef.chunk.js.map