"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[858],{15284:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(37762),a=n(15671),s=n(43144),i=n(60136),l=n(27277),c=n(72791),o=n(64074),d=n(62591),h=n(73849),u=n(80184),m=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={count:1},e.handleTableBody=function(t){var n,a=1,s=(0,r.Z)(t);try{for(s.s();!(n=s.n()).done;){n.value.id=a,a++}}catch(i){s.e(i)}finally{s.f()}return null===t||void 0===t?void 0:t.map((function(t){return(0,u.jsx)("tr",{children:e.handleRowData(t).map((function(e){return(0,u.jsx)("td",{style:{height:"12",padding:"6 24",border:"1px solid #eaeaea"},children:e},e)}))},t.id)}))},e.handleRowData=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e}return(0,s.Z)(n,[{key:"render",value:function(){var e=new Date,t=this.props,n=t.title,r=t.data,a=t.theaders;return(0,u.jsxs)(o.Z,{children:[(0,u.jsx)(o.Z.Header,{children:(0,u.jsx)(o.Z.Title,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("img",{src:h,height:"120",alt:"Logo"}),(0,u.jsx)("h3",{className:"mt-2",children:(0,u.jsx)("p",{className:"float-right",children:e.toDateString()})}),(0,u.jsx)("h5",{children:(0,u.jsx)("h3",{children:n})})]})})})}),(0,u.jsx)(o.Z.Body,{children:(0,u.jsxs)(d.Z,{striped:!0,hover:!0,ref:"tbl",className:"table table-condensed",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"#"}),null===a||void 0===a?void 0:a.map((function(e){return(0,u.jsx)("th",{children:e},e)}))]})}),(0,u.jsx)("tbody",{children:this.handleTableBody(r)})]})})]})}}]),n}(c.Component),x=m},6713:function(e,t,n){var r=n(74165),a=n(15861),s=n(6924),i=n(81420),l=(0,s.Ue)({baseURL:i.Z.apiUrl});l.addAsyncRequestTransform(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.token;case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.headers.Authorization="bearer ".concat(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.Z=l},42915:function(e,t,n){var r=n(6713),a="/bills";t.Z={getAll:function(){return r.Z.get(a+"/allBills")},getOverDueBills:function(){return r.Z.get(a)}}},5504:function(e,t,n){var r=n(1251),a=n(80184);t.Z=function(e){var t=e.children,n=e.isLoading;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(r.JL,{color:"primary",size:"lg"})}):t})}},81420:function(e,t){var n={dev:{apiUrl:"https://localhost:7146/api"},pro:{apiUrl:"http://".concat(window.location.host,"/api")}};t.Z=n.pro},81858:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(74165),a=n(15861),s=n(70885),i=n(72791),l=n(64074),c=n(89743),o=n(2677),d=n(43360),h=n(39918),u=n(79745),m=n.n(u),x=n(61146),f=n.n(x),j=n(91523),v=n(97425),p=n(73849),b=n(80184),N=function(e){var t=e.show,n=e.setShow,r=e.bill,a=(0,i.useRef)(null),s=(0,x.useReactToPrint)({content:function(){return a.current}}),l=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),n=t.split(".");return n.length>1&&(t=n[0]),t};return(0,b.jsx)(v.Z,{show:t,size:"xl",children:(0,b.jsxs)("div",{className:"container",id:"printTable",children:[(0,b.jsx)("div",{ref:a,children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"row invoice-contact",children:[(0,b.jsx)("div",{className:"col-9",children:(0,b.jsx)("div",{className:"invoice-box row",children:(0,b.jsx)("div",{className:"col-sm-12",children:(0,b.jsx)("table",{className:"table table-responsive invoice-table table-borderless p-l-20",children:(0,b.jsxs)("tbody",{children:[(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:(0,b.jsx)("h4",{style:{fontWeight:"bold"},children:"SHABELLE BANK BUILDING"})})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:"Ethopia - Jijiga, Dudahide, Qabelle 06, Zone 01 Main Road"})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:(0,b.jsx)("a",{className:"text-secondary",href:"mailto:shabellerealestate@gmail.com",target:"_top",children:"shabellerealestate@gmail.com"})})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:"+251929256446"})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:"+251915059099"})})]})})})})}),(0,b.jsx)("div",{className:"col-3",children:(0,b.jsx)(j.rU,{to:"#",className:"b-brand",children:(0,b.jsx)("img",{src:p,width:275,height:275,className:"img-fluid",alt:"Gradient Able Logo"})})})]}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"row invoive-info",children:[(0,b.jsxs)("div",{className:"col-4 invoice-client-info",children:[(0,b.jsx)("h6",{children:"Tenant Information :"}),(0,b.jsx)("h6",{className:"m-0",children:null===r||void 0===r?void 0:r.tenantName}),(0,b.jsx)("p",{className:"m-2 m-t-10",children:null===r||void 0===r?void 0:r.tenantTelephone}),(0,b.jsx)("p",{className:"m-2 m-t-10 mb-3",children:null===r||void 0===r?void 0:r.tenantAddress})]}),(0,b.jsx)("div",{className:"col-5"}),(0,b.jsxs)("div",{className:"col-3",children:[(0,b.jsxs)("h6",{className:"m-b-20",children:["Bill Number ",(0,b.jsxs)("span",{children:["#12",null===r||void 0===r?void 0:r.id]})]}),(0,b.jsxs)("h6",{className:"text-uppercase text-primary",children:["Due Date: ",(0,b.jsx)("span",{children:new Date(null===r||void 0===r?void 0:r.date).toDateString()})]})]})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-sm-12",children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"table invoice-detail-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"thead-default",children:[(0,b.jsx)("th",{className:"text-center",children:"Description"}),(0,b.jsx)("th",{className:"text-center",children:"Amount"}),(0,b.jsx)("th",{className:"text-center",children:"Due Date"}),(0,b.jsx)("th",{className:"text-center",children:"Date"})]})}),(0,b.jsx)("tbody",{children:(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"text-center",children:[(0,b.jsx)("h6",{children:r.room}),(0,b.jsx)("p",{className:"m-0",children:r.description})]}),(0,b.jsxs)("td",{className:"text-center",children:[l(r.amount),".00 BIRR"]}),(0,b.jsx)("td",{className:"text-center",children:new Date(r.dueDate).toLocaleDateString()}),(0,b.jsx)("td",{className:"text-center",children:(new Date).toLocaleDateString()})]})})]})})})}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-sm-12",children:(0,b.jsx)("table",{className:"table table-responsive invoice-table invoice-total",children:(0,b.jsx)("tbody",{children:(0,b.jsxs)("tr",{className:"text-info",children:[(0,b.jsxs)("td",{children:[(0,b.jsx)("hr",{}),(0,b.jsx)("h5",{className:"text-primary m-r-10",children:"Total Bill :"})]}),(0,b.jsxs)("td",{children:[(0,b.jsx)("hr",{}),(0,b.jsxs)("h5",{className:"text-primary",children:[l(r.amount),".00 Birr"]})]})]})})})})})]})]})}),(0,b.jsx)("div",{className:"row text-center btn-page",children:(0,b.jsxs)("div",{className:"col-sm-12 invoice-btn-group text-center",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-primary btn-print-invoice m-b-10",onClick:s,children:"Print"}),(0,b.jsx)("button",{type:"button",className:"btn btn-secondary btn-print-invoice m-b-10",onClick:function(){return n(!1)},children:"Close"})]})})]})})},g=n(15284),Z=n(5504),y=n(42915);function D(){var e,t,n=(0,i.useState)([{label:"Tenant",field:"tenantName"},{label:"Room",field:"room"},{label:"Amount",field:"amountLabel"},{label:"Description",field:"description"},{label:"Due Date",field:"dueDateLabel"},{label:"Date",field:"date"},{label:"",field:"actions"}]),u=(0,s.Z)(n,1)[0],x=(0,i.useState)([{label:"Tenant",field:"tenantName"},{label:"Room",field:"room"},{label:"Amount",field:"amountLabel"},{label:"Description",field:"description"},{label:"Due Date",field:"dueDate"},{label:"Date",field:"date"}]),j=(0,s.Z)(x,1)[0],v=(0,i.useState)([]),p=(0,s.Z)(v,2),D=p[0],w=p[1],S=(0,i.useState)(!1),B=(0,s.Z)(S,2),L=B[0],R=B[1],T=(0,i.useState)(!1),A=(0,s.Z)(T,2),k=A[0],E=A[1],z=(0,i.useState)({}),C=(0,s.Z)(z,2),I=C[0],P=C[1],U=(0,i.useRef)(),F=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,y.Z.getOverDueBills();case 3:t=e.sent,n=t.data,R(!1),w(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),n=t.split(".");return n.length>1&&(t=n[0]),t};return(0,i.useEffect)((function(){F()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{bill:I,show:k,setShow:E}),(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(l.Z.Header,{children:(0,b.jsx)(l.Z.Title,{children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(o.Z,{children:" Bills "}),(0,b.jsxs)(o.Z,{children:[(0,b.jsx)(f(),{trigger:function(){return(0,b.jsx)("button",{type:"button",className:"btn d-print-none float-right",children:(0,b.jsx)(m(),{className:"fas fa-print",name:"print",style:{fontSize:25}})})},content:function(){return U}}),(0,b.jsx)("div",{className:"d-none",children:(0,b.jsx)(g.Z,{data:(t=D,0===t.length?[]:t.map((function(e){return{id:e.id,tenantName:e.tenantName,room:e.room,amount:"".concat(H(e.amount)," Birr"),description:e.description,dueDate:new Date(e.dueDate).toLocaleDateString(),date:new Date(e.date).toLocaleDateString()}}))),theaders:j.filter((function(e){return""!==e.label})).map((function(e){return e.label})),title:"Bills",ref:function(e){return U=e}})})]})]})})}),(0,b.jsxs)(l.Z.Body,{children:[(0,b.jsx)(c.Z,{children:(0,b.jsx)(o.Z,{children:(0,b.jsxs)("p",{style:{fontSize:17,position:"relative",top:10},children:["Total Bills:"," ",D.length>0?H(null===D||void 0===D||null===(e=D.map((function(e){return e.amount})))||void 0===e?void 0:e.reduce((function(e,t){return e+t}))):0," ","BIRR"]})})}),(0,b.jsx)(Z.Z,{isLoading:L,children:(0,b.jsx)(h.Vm4,{hover:!0,striped:!0,entries:10,pagesAmount:10,entriesOptions:[10,25,50,100,250],data:{columns:u,rows:D.map((function(e){return e.date=new Date(e.date).toDateString(),e.dueDateLabel=(0,b.jsx)("span",{className:"badge badge-danger",children:new Date(e.dueDate).toDateString()}),e.actions=(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.Z,{className:"btn-light btn-sm mr-4",onClick:function(){return function(e){P(e),E(!0)}(e)},children:(0,b.jsx)(m(),{name:"print text-primary",style:{fontSize:17}})})}),e.amountLabel=H(e.amount)+" Birr",e}))},searchTop:!0,paging:!1,fullPagination:!0,searchBottom:!1})})]})]})]})}},2677:function(e,t,n){var r=n(87462),a=n(63366),s=n(60654),i=n.n(s),l=n(72791),c=n(10162),o=["bsPrefix","className","as"],d=["xl","lg","md","sm","xs"],h=l.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,h=e.as,u=void 0===h?"div":h,m=(0,a.Z)(e,o),x=(0,c.vE)(n,"col"),f=[],j=[];return d.forEach((function(e){var t,n,r,a=m[e];if(delete m[e],"object"===typeof a&&null!=a){var s=a.span;t=void 0===s||s,n=a.offset,r=a.order}else t=a;var i="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+x+i:""+x+i+"-"+t),null!=r&&j.push("order"+i+"-"+r),null!=n&&j.push("offset"+i+"-"+n)})),f.length||f.push(x),l.createElement(u,(0,r.Z)({},m,{ref:t,className:i().apply(void 0,[s].concat(f,j))}))}));h.displayName="Col",t.Z=h},62591:function(e,t,n){var r=n(87462),a=n(63366),s=n(60654),i=n.n(s),l=n(72791),c=n(10162),o=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=l.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,d=e.striped,h=e.bordered,u=e.borderless,m=e.hover,x=e.size,f=e.variant,j=e.responsive,v=(0,a.Z)(e,o),p=(0,c.vE)(n,"table"),b=i()(s,p,f&&p+"-"+f,x&&p+"-"+x,d&&p+"-striped",h&&p+"-bordered",u&&p+"-borderless",m&&p+"-hover"),N=l.createElement("table",(0,r.Z)({},v,{className:b,ref:t}));if(j){var g=p+"-responsive";return"string"===typeof j&&(g=g+"-"+j),l.createElement("div",{className:g},N)}return N}));t.Z=d},73849:function(e,t,n){e.exports=n.p+"static/media/Shebelle.f71562d6af0072864cc4.jpg"},37762:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(40181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}}}]);
//# sourceMappingURL=858.fc9f30c8.chunk.js.map