"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[127],{81420:function(e,t){var s={dev:{apiUrl:"https://localhost:7146/api"},pro:{apiUrl:"http://".concat(window.location.host,"/api")}};t.Z=s.pro},11599:function(e,t,s){var n=s(74569),o=s.n(n),a=s(67352);o().interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),a.Am.error("Unexpected error occur")),Promise.reject(e)}));var r={post:o().post,put:o().put,get:o().get};t.Z=r},69127:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=s(70885),o=s(72791),a=s(64074),r=s(43360),l=s(81420),i=s(11599),c=s(67352),u=s(39918),d=s(79745),h=s.n(d),p=s(97425),f=s(80184),m=function(e){var t=e.show,s=e.setShow,n=e.message;return(0,f.jsxs)(p.Z,{show:t,children:[(0,f.jsx)(p.Z.Header,{children:(0,f.jsxs)(p.Z.Title,{children:["Message body of ",n.name]})}),(0,f.jsx)(p.Z.Body,{children:(0,f.jsx)("textarea",{disabled:!0,rows:10,value:n.body,className:"form-control"})}),(0,f.jsx)(p.Z.Footer,{children:(0,f.jsx)(r.Z,{className:"btn-secondary",onClick:function(){return s(!1)},children:"Close"})})]})},g=function(){var e=(0,o.useState)([]),t=(0,n.Z)(e,2),s=t[0],d=t[1],p=(0,o.useState)(!1),g=(0,n.Z)(p,2),j=g[0],x=g[1],Z=(0,o.useState)({}),b=(0,n.Z)(Z,2),w=b[0],v=b[1],y=(0,o.useState)([{label:"Name",field:"name"},{label:"Tellphone",field:"tellphone"},{label:"Message",field:"messageBody"},{label:"Date",field:"date"},{label:"",field:"edit"}]),S=(0,n.Z)(y,1)[0];(0,o.useEffect)((function(){var e={Authorization:"bearer ".concat(localStorage.token)};i.Z.get(l.Z.apiUrl+"/messages",{headers:e}).then((function(e){var t=e.data;d(t)})).catch((function(e){console.log(e),c.Am.error("Something went wrong")}))}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m,{show:j,setShow:x,message:w}),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(a.Z.Header,{children:(0,f.jsx)(a.Z.Title,{children:"Messages"})}),(0,f.jsx)(a.Z.Body,{children:(0,f.jsx)(u.Vm4,{hover:!0,entriesOptions:[10,25,50,100,250,500,1e3],entries:10,pagesAmount:10,data:{columns:S,rows:s.map((function(e){return e.edit=(0,f.jsx)(r.Z,{className:"btn-light btn-sm",onClick:function(){v(e),x(!0)},children:(0,f.jsx)(h(),{className:"fas fa-eye text-secondary",style:{fontSize:17},name:"edit"})}),e.name=e.customer.name,e.tellphone=e.customer.tellphone,e.date=new Date(e.date).toDateString(),e.messageBody=function(e){var t=e.split("");return t.length>20?t.slice(0,20).join("")+"...":t.join("")}(e.body),e}))},pagingTop:!0,searchTop:!0,searchBottom:!1,fullPagination:!0})})]})]})}}}]);
//# sourceMappingURL=127.4ca04e7d.chunk.js.map